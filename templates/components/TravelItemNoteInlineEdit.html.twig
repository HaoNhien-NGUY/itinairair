<div {{ attributes }}>
	{% if isEditing %}
		<div class="flex items-start space-x-2">
			<textarea data-model="notes" class="flex-1 px-0.5 rounded-md border border-indigo-200 focus:border-indigo-500 focus:ring-0 sm:text-sm" rows="3" autofocus></textarea>
			<div class="flex flex-col space-y-1">
				<button data-action="live#action" data-live-action-param="save" class="cursor-pointer inline-flex items-center p-1 rounded-full text-white bg-indigo-300 hover:bg-indigo-400 focus:outline-none focus:ring-1 focus:ring-offset-2 focus:ring-indigo-500">
					<twig:ux:icon name="heroicons:check" class="h-4 w-4"/>
				</button>
				<button data-action="live#action" data-live-action-param="cancel" class="cursor-pointer inline-flex items-center p-1 rounded-full text-gray-700 bg-white hover:bg-gray-100">
					<twig:ux:icon name="heroicons:x-mark" class="h-4 w-4"/>
				</button>
			</div>
		</div>
	{% else %}
		<div class="text-sm my-1 flex items-start group cursor-pointer hover:bg-gray-50 p-1 -m-1 -mt-1 rounded-lg transition-colors" data-action="click->live#action" data-live-action-param="enableEdit">
			<div>
				<span class="text-gray-600">
					<twig:ux:icon name="wpf:note" class="size-3.5 inline shrink-0 text-gray-400 mr-0.5"/>
					{% if item.notes %}
						{{ item.notes|nl2br }}
					{% else %}
						<span class="text-gray-400">Ajouter une note</span>
					{% endif %}
				</span>
				<span class="invisible group-hover:visible ml-2 text-xs text-gray-500">
					<twig:ux:icon name="heroicons:pencil" class="size-3 inline"/>
				</span>
			</div>
		</div>
	{% endif %}
</div>
